<main>
    <mat-card class="center">
        <div class="error-message" *ngIf="error==true">
            {{errorMessage}}
        </div>
        <div *ngIf="loading==false">
            <mat-card-title style="text-align:center;padding-top:20px">Registration</mat-card-title>

            <form (ngSubmit)="Submit()" #registerForm="ngForm" fxLayout="column">
                <mat-form-field>
                    <input type="text" matInput placeholder="Username" [formControl]="username"
                        [(ngModel)]="user.username" autocomplete="username" name="username" required>
                    <mat-error *ngIf="username.invalid">{{getErrorMessage()}}</mat-error>
                </mat-form-field>

                <div ngModelGroup="passGroup" #passGroup="ngModelGroup" password-matcher fxLayout="column">
                    <mat-form-field>
                        <input matInput type="password" [(ngModel)]="user.password" name="password"
                            placeholder="Password" min="6" #password="ngModel" required>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput type="password" name="confirm" placeholder="Confirm password"
                            [(ngModel)]="user.confirmPassword" #confirmPassword="ngModel">
                    </mat-form-field>
                    <span *ngIf="(passGroup.invalid)&&(confirmPassword.touched)" fxLayoutAlign="start none"
                        class="password-mismatch">passwords does not match</span>
                </div>
                <button mat-raised-button color="primary" [disabled]="!registerForm.form.valid" class="submit-btn"
                    type="submit">Register</button>

            </form>
        </div>
        <div class="no-data-container" *ngIf="loading==true" fxLayoutAlign="center center">
            <mat-spinner [diameter]="50"></mat-spinner>
        </div>
        <mat-card-footer class="card-footer">
            Already have an account ?
            <br>
            Login <a routerLink='/login'>here</a>
        </mat-card-footer>
    </mat-card>
</main>